#!/bin/bash
G='wget' C='cat' B='lynx' M='mplayer' S='sed' && which $B $C $G $M $S >/dev/null && H='http://' && F=$(mktemp /tmp/XXXXXXX) && U="merriam-webster.com" && UD="${H}${U}/dictionary/" && UA="${H}media.${U}/soundc11/" && unset NT NV && if [[ "$1" == '-nt' ]]; then NT="1" && shift; fi && if [[ "$1" == '-nv' ]]; then NV="1" && shift; fi && $G -k ${UD}"$1" -q -O $F && [[ "$NV" ]] || $M -really-quiet "${UA}/${1:0:1}/$(cat "$F" | $S -ne "s/^.* au(\([^)]*\));.*$/\1/p" | $S -ne 's/ .*//p'| $S -e "s/[',]//g" | $S -ne '1,1p').wav" 2>/dev/null && [[ "$NT" ]] || $C "$F" | $B -stdin && rm $F
